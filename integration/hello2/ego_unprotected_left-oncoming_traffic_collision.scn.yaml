metadata:
  name: Left turn into oncoming traffic blah blah
  scenario_version: v0.96
  tags:
  - sunnyvale
  - traffic
  - unprotected_left
  - blah
include:
- file: include/global_observers.inc.yaml
- file: include/vehicle_shape.inc.yaml

map:
  key: sunnyvale
projection_settings:
  utm:
    zone: 10
    north: true

trip_agent:
  behavior:
  - generate_route:
      start: {utm: {y: 4141014.803002416, x: 586778.646572119}}
      dest: {utm: {x: 586918.96, y: 4141050.43}}

sim_end:
  until:
  - timeout: {secs: 22s}

observers:
- name: Max Velocity
  always: {motion: {fail_if_vel_above_mps: 16.0}}

agents:
- ego:
    initial_position:
      point: {utm: {y: 4141014.803002416, x: 586778.646572119}}
      heading: -0.3133593339153653
    initial_velocity_mps: 7
    behaviors:
    - path_following:
        constant_velocity:
        pose_b_spline:
          default_tangent_distance: 3
          poses:
          - y: 4141012.634920963
            x: 586786.0557952616
            heading: -0.2528801177003559
          - y: 4140990.5438809674
            x: 586874.2982014709
            heading: -0.01402676957620529
            tangent_distance: 6.225975550021956
          - y: 4140997.296489627
            x: 586888.8258714696
            heading: 1.298098874891643
            tangent_distance: 4.8054553763736285
          - y: 4141008.598508342
            x: 586883.1164443148
            heading: 2.4637084800473428
          - y: 4141013.4987466596
            x: 586869.9773938853
            heading: 2.8911869041068723
          - y: 4141021.5700283465
            x: 586841.6668565848
            heading: 2.8956379699590276
- traffic:
    name: traffic_opposing
    initial_time_gap: 2s
    initial_min_distance_gap_m: 10
    randomize:
      actor_order: true
      seed: 1
      initial_gap: {std_dev: 1.0}
    max_actors: 100
    actors:
    - type: VEHICLE
      id: 0
      model:
        static:
          height: 1.5
          point:
          - {x: 2.1, y: 0.9}
          - {x: 2.1, y: -0.9}
          - {x: -1.3, y: -0.9}
          - {x: -1.3, y: 0.9}
      initial_state:
        point: {utm: {y: 4140994.2198691536, x: 586933.5360609953}}
        speed_mps: 10
        heading: 2.8859904421246156
      behaviors:
      - waypoint_following:
          relative_waypoints:
          - lane_follow:
              endpoint: {utm: {x: 586800.7754687489, y: 4141028.079075494}}
    - type: VEHICLE
      id: 1
      model:
        static:
          height: 1.5
          point:
          - {x: 2.1, y: 0.9}
          - {x: 2.1, y: -0.9}
          - {x: -1.3, y: -0.9}
          - {x: -1.3, y: 0.9}
      initial_state:
        point: {utm: {y: 4140997.160303531, x: 586936.8085636807}}
        speed_mps: 10
        heading: 2.8917500574695802
      behaviors:
      - waypoint_following:
          relative_waypoints:
          - lane_follow:
              endpoint: {utm: {x: 586785.7418012241, y: 4141035.3846575264}}
    - type: VEHICLE
      id: 2
      model:
        static:
          height: 1.5
          point:
          - {x: 2.1, y: 0.9}
          - {x: 2.1, y: -0.9}
          - {x: -1.3, y: -0.9}
          - {x: -1.3, y: 0.9}
      initial_state:
        point: {utm: {x: 586936.6616042902, y: 4140996.5877913013}}
        speed_mps: 10
        heading: 2.91565145474107
      behaviors:
      - waypoint_following:
          relative_waypoints:
          - lane_follow:
              endpoint: {utm: {x: 586920.3331547886, y: 4141054.753298882}}
- traffic:
    name: traffic_same
    initial_time_gap: 2s
    initial_min_distance_gap_m: 10
    max_actors: 100
    randomize:
      actor_order: true
      initial_gap: {std_dev: 1.0}
      seed: 1
    actors:
    - type: VEHICLE
      id: 3
      model:
        static:
          height: 1.5
          point:
          - {x: 2.1, y: 0.9}
          - {x: 2.1, y: -0.9}
          - {x: -1.3, y: -0.9}
          - {x: -1.3, y: 0.9}
      initial_state:
        point: {utm: {y: 4141010.437690831, x: 586794.4828407264}}
        speed_mps: 10
        heading: -0.2512846101347535
      behaviors:
      - waypoint_following:
          relative_waypoints:
          - lane_follow:
              endpoint: {utm: {x: 586952.8786779016, y: 4140968.8286390593}}
    - type: VEHICLE
      id: 4
      model:
        static:
          height: 1.5
          point:
          - {x: 2.1, y: 0.9}
          - {x: 2.1, y: -0.9}
          - {x: -1.3, y: -0.9}
          - {x: -1.3, y: 0.9}
      initial_state:
        point: {utm: {y: 4141004.785409637, x: 586800.8888153742}}
        speed_mps: 10
        heading: -0.22957872385793343
      behaviors:
      - waypoint_following:
          relative_waypoints:
          - lane_follow:
              endpoint: {utm: {x: 586959.5129407784, y: 4140964.037226774}}
    - type: VEHICLE
      id: 5
      model:
        static:
          height: 1.5
          point:
          - {x: 2.1, y: 0.9}
          - {x: 2.1, y: -0.9}
          - {x: -1.3, y: -0.9}
          - {x: -1.3, y: 0.9}
      initial_state:
        point: {utm: {y: 4141004.8050038153, x: 586800.6921632676}}
        speed_mps: 10
        heading: -0.2582626453100678
      behaviors:
      - waypoint_following:
          relative_waypoints:
          - lane_follow:
              endpoint: {utm: {x: 586882.4817773754, y: 4140936.0258934116}}
extra_data:
  use_ego_behavior: true
